import Image from "next/image";
import { Dispatch, SetStateAction } from "react";

// Generated by Copilot
export type State = "all" | "healthy" | "unhealthy" | "hand" | null;
export default function LayerState({
  value,
  onChange,
}: {
  value: State;
  onChange: Dispatch<SetStateAction<State>>;
}) {
  return (
    <div className="modern-layer-controls">
      <div className="controls-section">
        <div className="section-header">
          <span className="section-icon">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
            >
              <rect x="2" y="6" width="20" height="12" rx="2" />
              <path d="M6 12h12" />
            </svg>
          </span>
          <span>Layers</span>
        </div>
        <div className="button-row">
          <button
            className={`pill-button ${value === "all" ? "active" : ""}`}
            onClick={() => onChange("all")}
          >
            All Regions
          </button>
          <button
            className={`pill-button healthy ${
              value === "healthy" ? "active" : ""
            }`}
            onClick={() => onChange("healthy")}
          >
            Healthy
          </button>
          <button
            className={`pill-button unhealthy ${
              value === "unhealthy" ? "active" : ""
            }`}
            onClick={() => onChange("unhealthy")}
          >
            Unhealthy
          </button>
        </div>
      </div>

      <div className="controls-section">
        <div className="section-header">
          <span className="section-icon">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
            >
              <path d="M15 15l5 5" />
              <circle cx="11" cy="11" r="8" />
            </svg>
          </span>
          <span>Interaction Mode</span>
        </div>
        <div className="toggle-buttons">
          <button
            className={`toggle-button ${value !== "hand" ? "active" : ""}`}
            onClick={() => onChange("all")}
            title="Selection mode"
          >
            <Image
              src="/svgs/select.svg"
              alt="Select tool"
              width={18}
              height={18}
              className="svg-icon-colored"
            />
            <span>Select</span>
          </button>
          <button
            className={`toggle-button ${value === "hand" ? "active" : ""}`}
            onClick={() => onChange("hand")}
            title="Hand tool (for panning)"
          >
            <Image
              src="/svgs/hand.svg"
              alt="Hand tool"
              width={18}
              height={18}
              className="svg-icon-colored"
            />
            <span>Pan</span>
          </button>
        </div>
      </div>
    </div>
  );
}
